function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MXMs:function(e,t,n){"use strict";n.r(t),n.d(t,"AkunModule",(function(){return Ee}));var a=n("PCNd"),i=n("3Pt+"),r=n("CzEO"),l=n("PQ0Y"),s=n("lp9o"),o=n("mLsC"),d=n("OzZK"),m=n("JA5x"),c=n("ZE2D"),u=n("L1u3"),p=n("SKKP"),g=n("W9fG"),h=n("bE2y"),S=n("rMZv"),k=n("Nqz0"),f=n("ncdi"),v=n("ix5O"),E=n("oyxB"),b=n("ZyQt"),z=n("Ff2k"),x=n("Py9c"),y=n("nJia"),_=n("ocnv"),L=n("dEAy"),w=n("zAKX"),j=n("D9mS"),C=n("PTRe"),O=n("3/1E"),T=n("0lU3"),I=n("TaO5"),R=n("PScX"),V=n("m3o8"),F=n("tyNb"),N=n("2Vo4"),D=n("EUZL"),A=n("KHAO"),J=n("fXoL"),P=n("nm5K"),M=n("qAZ0"),U=n("4xsP"),K=n("ofXK"),G=n("C2AL"),q=n("RwU8"),B=n("FwiY"),H=n("B+r4"),$=n("Q8cG");function X(e,t){1&e&&J["\u0275\u0275element"](0,"i",19)}function Z(e,t){if(1&e&&J["\u0275\u0275element"](0,"nz-option",22),2&e){var n=t.$implicit;J["\u0275\u0275property"]("nzValue",n.kode)("nzLabel",n.nama)}}function Y(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"nz-space-item"),J["\u0275\u0275elementStart"](2,"nz-select",20),J["\u0275\u0275listener"]("ngModelChange",(function(e){return J["\u0275\u0275restoreView"](n),J["\u0275\u0275nextContext"]().SelectedListJenjang=e}))("ngModelChange",(function(){return J["\u0275\u0275restoreView"](n),J["\u0275\u0275nextContext"]().FillCurentJenjang()})),J["\u0275\u0275template"](3,Z,1,2,"nz-option",21),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](2),J["\u0275\u0275property"]("ngModel",a.SelectedListJenjang),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngForOf",a.JenjangSekolah)}}function Q(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275elementStart"](8,"a",10),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).TampilSiswaUser(e)})),J["\u0275\u0275element"](9,"i",29),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.npsn),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nm_sekolah)}}function W(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275text"](8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](9,"td"),J["\u0275\u0275text"](10),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"td"),J["\u0275\u0275text"](12),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"td"),J["\u0275\u0275elementStart"](14,"a",30),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).deleteItem(e.id)})),J["\u0275\u0275element"](15,"i",31),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nisn),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.username),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nama_lengkap),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.jenis_kelamin),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.tanggal_lahir)}}function ee(e,t){if(1&e&&(J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"div",3),J["\u0275\u0275elementStart"](2,"div",4),J["\u0275\u0275elementStart"](3,"nz-card",23),J["\u0275\u0275elementStart"](4,"nz-spin",24),J["\u0275\u0275elementStart"](5,"nz-table",25,26),J["\u0275\u0275elementStart"](7,"thead"),J["\u0275\u0275elementStart"](8,"tr"),J["\u0275\u0275elementStart"](9,"th"),J["\u0275\u0275text"](10,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"th"),J["\u0275\u0275text"](12,"NPSN"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"th"),J["\u0275\u0275text"](14,"NAMA SEKOLAH "),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](15,"th"),J["\u0275\u0275text"](16,"Aksi"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](17,"tbody"),J["\u0275\u0275template"](18,Q,10,3,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](19,"div",4),J["\u0275\u0275elementStart"](20,"nz-card",23),J["\u0275\u0275elementStart"](21,"nz-space"),J["\u0275\u0275elementStart"](22,"nz-space-item"),J["\u0275\u0275text"](23),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](24,"nz-spin",24),J["\u0275\u0275elementStart"](25,"nz-table",25,28),J["\u0275\u0275elementStart"](27,"thead"),J["\u0275\u0275elementStart"](28,"tr"),J["\u0275\u0275elementStart"](29,"th"),J["\u0275\u0275text"](30,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](31,"th"),J["\u0275\u0275text"](32,"NISN"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](33,"th"),J["\u0275\u0275text"](34,"Username"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](35,"th"),J["\u0275\u0275text"](36,"Nama"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](37,"th"),J["\u0275\u0275text"](38,"Jenis Kelamin"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](39,"th"),J["\u0275\u0275text"](40,"Tanggal Lahir"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275element"](41,"th"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](42,"tbody"),J["\u0275\u0275template"](43,W,16,6,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()),2&e){var n=J["\u0275\u0275reference"](6),a=J["\u0275\u0275reference"](26),i=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](4),J["\u0275\u0275property"]("nzSpinning",i.isLoadingTableRegisterSekolah),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",i.RegisteredSekolahData),J["\u0275\u0275advance"](13),J["\u0275\u0275property"]("ngForOf",n.data),J["\u0275\u0275advance"](5),J["\u0275\u0275textInterpolate1"](" Total Data : ",i.projectList.length," "),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzSpinning",i.isLoadingTableAkun),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",i.projectList),J["\u0275\u0275advance"](18),J["\u0275\u0275property"]("ngForOf",a.data)}}function te(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275text"](8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](9,"td"),J["\u0275\u0275text"](10),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"td"),J["\u0275\u0275text"](12),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"td",32),J["\u0275\u0275elementStart"](14,"div"),J["\u0275\u0275elementStart"](15,"a",33),J["\u0275\u0275element"](16,"i",34),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](17,"nz-dropdown-menu",null,35),J["\u0275\u0275elementStart"](19,"ul",36),J["\u0275\u0275elementStart"](20,"li",37),J["\u0275\u0275elementStart"](21,"a",38),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).deleteItem(e.id)})),J["\u0275\u0275element"](22,"i",39),J["\u0275\u0275elementStart"](23,"span",40),J["\u0275\u0275text"](24,"Delete"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index,r=J["\u0275\u0275reference"](18);J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nisn),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.username),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nama_lengkap),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.jenis_kelamin),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.tanggal_lahir),J["\u0275\u0275advance"](3),J["\u0275\u0275property"]("nzDropdownMenu",r)}}function ne(e,t){if(1&e&&(J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"nz-card",23),J["\u0275\u0275elementStart"](2,"nz-space"),J["\u0275\u0275elementStart"](3,"nz-space-item"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"nz-spin",24),J["\u0275\u0275elementStart"](6,"nz-table",25,28),J["\u0275\u0275elementStart"](8,"thead"),J["\u0275\u0275elementStart"](9,"tr"),J["\u0275\u0275elementStart"](10,"th"),J["\u0275\u0275text"](11,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](12,"th"),J["\u0275\u0275text"](13,"NISN"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](14,"th"),J["\u0275\u0275text"](15,"Username"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](16,"th"),J["\u0275\u0275text"](17,"Nama"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](18,"th"),J["\u0275\u0275text"](19,"Jenis Kelamin"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](20,"th"),J["\u0275\u0275text"](21,"Tanggal Lahir"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275element"](22,"th"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](23,"tbody"),J["\u0275\u0275template"](24,te,25,7,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()),2&e){var n=J["\u0275\u0275reference"](7),a=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](4),J["\u0275\u0275textInterpolate1"](" Total Data : ",a.projectList.length," "),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzSpinning",a.isLoadingTableAkun),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",a.projectList),J["\u0275\u0275advance"](18),J["\u0275\u0275property"]("ngForOf",n.data)}}var ae,ie=((ae=function(){function e(t,n,a,i,r,l){_classCallCheck(this,e),this.router=t,this.fb=n,this.msg=a,this.apiService=i,this.modalService=r,this.tablesvc=l,this.view="cardView",this.newProject=!1,this.projectListRaw=[],this.projectList=[],this.name="This is XLSX TO JSON CONVERTER",this.isLoadingTableRegisterSekolah=!1,this.isLoadingTableAkun=!1,this.willDownload=!1,this.loading=!1,this.isVisible=!1,this.isOkLoading=!1,this.JenjangSekolah=[{kode:"0",nama:"SD"},{kode:"1",nama:"SMP"},{kode:"2",nama:"SMA"},{kode:"3",nama:"SMK"}],this.RegisteredSekolahData=[],this.RegisteredSekolahDataRaw=[],this.KodeRole="",this.currentUserSubject=new N.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.KodeRole=this.currentUserValue.kode_role,"002"==this.currentUserValue.kode_role?this.dataForm=this.fb.group({npsn:[null,[i.s.required]],id_gtk:[null,[i.s.required]],id_organisasi:[null,[i.s.required]]}):"005"==this.currentUserValue.kode_role&&(this.dataForm=this.fb.group({npsn:[e[0].npsn,[i.s.required]],id_gtk:[null,[i.s.required]],id_organisasi:[null,[i.s.required]]}),this.SelectedListJenjang=e[0].jenjang,this.initRegistrasiSekolah(),this.getSiswa())}},{key:"checkMandatoryField",value:function(e,t){for(var n=[],a=0;a<t.length;a++){for(var i=!0,r=0;r<e.length;r++)null==t[a][e[r]]&&(i=!1);n.push(i)}for(var l=!0,s=0;s<n.length;s++)if(0==n[s]){l=!1;break}return l}},{key:"FillCurentJenjang",value:function(){this.initRegistrasiSekolah()}},{key:"initRegistrasiSekolah",value:function(){var e=this;this.isLoadingTableRegisterSekolah=!0;var t={nama_fungsi:"sekolah.init_registrasi_sekolah",in_data:JSON.stringify({jenjang:this.SelectedListJenjang})};this.apiService.postFunction(t).subscribe((function(t){var n=A.a.ParseResponse(t.out_data);e.RegisteredSekolahData=n,e.RegisteredSekolahDataRaw=n,e.isLoadingTableRegisterSekolah=!1}),(function(t){e.isLoadingTableRegisterSekolah=!1,e.modalService.closeAll(),e.RegisteredSekolahData=[],e.RegisteredSekolahDataRaw=[]}))}},{key:"TampilSiswaUser",value:function(e){this.getSiswa2(e.npsn)}},{key:"getSiswa2",value:function(e){var t=this;this.isLoadingTableAkun=!0,JSON.parse(this.currentUserValue.identitas);var n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"public.vpeserta_didik",key:{npsn:e}})};this.apiService.postFunction(n).subscribe((function(e){var n=A.a.ParseResponse(e.out_data);t.projectList=n,t.projectListRaw=n,t.isLoadingTableAkun=!1}),(function(e){t.msg.info("Koneksi tidak stabil untuk melakukan pengambilan data."),t.projectList=[],t.projectListRaw=[],t.isLoadingTableAkun=!1}))}},{key:"getSiswa",value:function(){var e=this;this.isLoadingTableAkun=!0;var t=JSON.parse(this.currentUserValue.identitas),n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"public.vpeserta_didik",key:{npsn:t[0].npsn}})};this.apiService.postFunction(n).subscribe((function(t){var n=A.a.ParseResponse(t.out_data);e.projectList=n,e.projectListRaw=n,e.isLoadingTableAkun=!1}),(function(t){e.msg.info("Koneksi tidak stabil untuk melakukan pengambilan data."),e.projectList=[],e.projectListRaw=[],e.isLoadingTableAkun=!1}))}},{key:"onFileChange",value:function(e){var t=this,n=null,a=null,i=new FileReader,r=e.target.files[0];i.onload=function(e){n=D.read(i.result,{type:"binary"}),a=n.SheetNames.reduce((function(e,t){return e[t]=D.utils.sheet_to_json(n.Sheets[t]),e}),{});var r=JSON.stringify(a);t.setPostData(r)},i.readAsBinaryString(r)}},{key:"setPostData",value:function(e){var t=this,n=JSON.parse(this.currentUserValue.identitas),a=JSON.parse(e),i=[];a.Sheet1.forEach((function(e){if(null!=e.nisn||null!=e.nama_lengkap||null!=e.tanggal_lahir){t.buildUserName(e.no,e.nama_lengkap),e.nisn=e.nisn+"";var a={nisn:e.nisn.replace(/[\u200B-\u200D\uFEFF]/g,""),nama_lengkap:e.nama_lengkap.replace(/['"]+/g,""),jenis_kelamin:e.jenis_kelamin,nik:null!=e.nik?e.nik.replace(/[\u200B-\u200D\uFEFF]/g,""):e.nik,tempat_lahir:e.tempat_lahir,tanggal_lahir:e.tanggal_lahir,nis:e.nis,tanggal_masuk:e.tanggal_masuk,npsn:n[0].npsn,username:e.nisn.replace(/[\u200B-\u200D\uFEFF]/g,"")+"@mydss.id",password:e.tanggal_lahir};i.push(a)}})),this.dataArrayPush=i}},{key:"buildUserName",value:function(e,t){return t.toLowerCase().replace(".","").trim().split(" ").join(".").replace(/['"]+/g,"")+e+"@mydss.id"}},{key:"setDownload",value:function(e){this.willDownload=!0,setTimeout((function(){var t=document.querySelector("#download");t.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","xlsxtojson.json")}),1e3)}},{key:"search",value:function(){this.projectList=this.tablesvc.search(this.searchInput,this.projectListRaw)}},{key:"showModal",value:function(){this.isVisible=!0}},{key:"handleOk",value:function(){var e=this;if(this.isOkLoading=!0,console.log(this.dataArrayPush),null==this.dataArrayPush)this.isOkLoading=!1,this.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.");else{var t={nama_fungsi:"_dss_import_peserta_didik",in_data:JSON.stringify(this.dataArrayPush)};this.apiService.postFunction(t).subscribe((function(t){e.msg.success("Berhasil Simpan!."),e.getSiswa(),e.isVisible=!1,e.isOkLoading=!1}),(function(t){e.isOkLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}}},{key:"handleCancel",value:function(){this.isVisible=!1}},{key:"deleteItem",value:function(e){var t=this;this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var n={nama_fungsi:"_dss_delete",in_data:JSON.stringify({table:"gtk.organisasi",key:{id:e}})};t.apiService.postFunction(n).subscribe((function(e){t.msg.success("Berhasil Hapus!."),t.getSiswa()}),(function(e){t.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}}]),e}()).\u0275fac=function(e){return new(e||ae)(J["\u0275\u0275directiveInject"](F.e),J["\u0275\u0275directiveInject"](i.e),J["\u0275\u0275directiveInject"](R.b),J["\u0275\u0275directiveInject"](P.a),J["\u0275\u0275directiveInject"](L.c),J["\u0275\u0275directiveInject"](o.a))},ae.\u0275cmp=J["\u0275\u0275defineComponent"]({type:ae,selectors:[["ng-component"]],decls:34,vars:8,consts:[[1,"page-header"],[1,"row","align-items-md-center"],[1,"col-md-6"],[1,"row"],[1,"col-md-12"],[1,"border-input",3,"nzPrefix"],["type","text","nz-input","","placeholder","Cari Data",3,"ngModel","ngModelChange"],["searchPrefix",""],[4,"ngIf"],[1,"text-md-right","m-v-10"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","upload"],["nzWidth","800","nzTitle","Buat Baru",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","","nzLayout","vertical",3,"formGroup"],["target","_blank","nzType","primary","nz-button","","href","../../../assets/files/Formula_Import_Siswa.xlsx"],["nzRequired","","nzFor","id_gtk"],["nzErrorTip","Harap isi file!"],["type","file",1,"border-input",3,"change"],[1,"container-fluid"],["nz-icon","","nzType","search",1,"opacity-04"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Pilih Jenjang Sekolah",1,"border-input",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[1,"border-box"],["nzTip","Loading...",3,"nzSpinning"],["nzSize","small",3,"nzData"],["RegisteredSekolahListView",""],[4,"ngFor","ngForOf"],["listViewTable",""],["nz-icon","","nzType","contacts","nzTheme","outline"],["nz-button","","nzType","primary","nzDanger","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],[1,"text-right"],["nz-dropdown","","nzPlacement","bottomRight","nzTrigger","click",1,"text-gray","font-size-18",3,"nzDropdownMenu"],["nz-icon","","nzType","ellipsis","theme","outline"],["projectListSetting2","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],[3,"click"],["nz-icon","","nzType","delete","theme","outline"],[1,"m-l-10"]],template:function(e,t){if(1&e&&(J["\u0275\u0275elementStart"](0,"div",0),J["\u0275\u0275elementStart"](1,"div",1),J["\u0275\u0275elementStart"](2,"div",2),J["\u0275\u0275elementStart"](3,"div",3),J["\u0275\u0275elementStart"](4,"div",4),J["\u0275\u0275elementStart"](5,"nz-space"),J["\u0275\u0275elementStart"](6,"nz-space-item"),J["\u0275\u0275elementStart"](7,"nz-input-group",5),J["\u0275\u0275elementStart"](8,"input",6),J["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchInput=e}))("ngModelChange",(function(){return t.search()})),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275template"](9,X,1,0,"ng-template",null,7,J["\u0275\u0275templateRefExtractor"]),J["\u0275\u0275elementEnd"](),J["\u0275\u0275template"](11,Y,4,2,"ng-container",8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](12,"div",2),J["\u0275\u0275elementStart"](13,"div",9),J["\u0275\u0275elementStart"](14,"nz-button-group"),J["\u0275\u0275elementStart"](15,"button",10),J["\u0275\u0275listener"]("click",(function(){return t.showModal()})),J["\u0275\u0275element"](16,"i",11),J["\u0275\u0275elementStart"](17,"span"),J["\u0275\u0275text"](18,"Import Data"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](19,"nz-modal",12),J["\u0275\u0275listener"]("nzVisibleChange",(function(e){return t.isVisible=e}))("nzOnCancel",(function(){return t.handleCancel()}))("nzOnOk",(function(){return t.handleOk()})),J["\u0275\u0275elementStart"](20,"form",13),J["\u0275\u0275elementStart"](21,"nz-form-item"),J["\u0275\u0275elementStart"](22,"nz-form-label"),J["\u0275\u0275text"](23,"Download Template"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](24,"a",14),J["\u0275\u0275text"](25,"Download"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](26,"nz-form-item"),J["\u0275\u0275elementStart"](27,"nz-form-label",15),J["\u0275\u0275text"](28,"Import File"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](29,"nz-form-control",16),J["\u0275\u0275elementStart"](30,"input",17),J["\u0275\u0275listener"]("change",(function(e){return t.onFileChange(e)})),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](31,"div",18),J["\u0275\u0275template"](32,ee,44,7,"ng-container",8),J["\u0275\u0275template"](33,ne,25,4,"ng-container",8),J["\u0275\u0275elementEnd"]()),2&e){var n=J["\u0275\u0275reference"](10);J["\u0275\u0275advance"](7),J["\u0275\u0275property"]("nzPrefix",n),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngModel",t.searchInput),J["\u0275\u0275advance"](3),J["\u0275\u0275property"]("ngIf","002"==t.KodeRole),J["\u0275\u0275advance"](8),J["\u0275\u0275property"]("nzVisible",t.isVisible)("nzOkLoading",t.isOkLoading),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("formGroup",t.dataForm),J["\u0275\u0275advance"](12),J["\u0275\u0275property"]("ngIf","002"==t.KodeRole),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngIf","005"==t.KodeRole)}},directives:[U.a,U.b,C.b,C.c,C.a,i.c,i.n,i.q,K.m,d.b,G.a,d.a,q.a,B.a,L.a,i.t,i.o,_.b,i.h,H.c,_.c,H.a,_.d,_.a,w.b,K.l,w.a,m.a,M.a,S.b,S.h,S.i,S.a,S.g,S.e,k.a,k.b,k.e,$.c,$.e],styles:[""],encapsulation:2}),ae),re=n("pr8b");function le(e,t){1&e&&J["\u0275\u0275element"](0,"i",19)}function se(e,t){if(1&e&&J["\u0275\u0275element"](0,"nz-option",22),2&e){var n=t.$implicit;J["\u0275\u0275property"]("nzValue",n.kode)("nzLabel",n.nama)}}function oe(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"nz-space-item"),J["\u0275\u0275elementStart"](2,"nz-select",20),J["\u0275\u0275listener"]("ngModelChange",(function(e){return J["\u0275\u0275restoreView"](n),J["\u0275\u0275nextContext"]().SelectedListJenjang=e}))("ngModelChange",(function(){return J["\u0275\u0275restoreView"](n),J["\u0275\u0275nextContext"]().FillCurentJenjang()})),J["\u0275\u0275template"](3,se,1,2,"nz-option",21),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](2),J["\u0275\u0275property"]("ngModel",a.SelectedListJenjang),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngForOf",a.JenjangSekolah)}}function de(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275elementStart"](8,"a",10),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).TampilGuruUser(e)})),J["\u0275\u0275element"](9,"i",29),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.npsn),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nm_sekolah)}}function me(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275text"](8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](9,"td"),J["\u0275\u0275text"](10),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"td"),J["\u0275\u0275text"](12),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"td"),J["\u0275\u0275text"](14),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](15,"td"),J["\u0275\u0275elementStart"](16,"a",30),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).deleteItem(e.id)})),J["\u0275\u0275element"](17,"i",31),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nik),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.username),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nama_lengkap),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.jenis_kelamin),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.tanggal_lahir),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.no_hp)}}function ce(e,t){if(1&e&&(J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"div",3),J["\u0275\u0275elementStart"](2,"div",4),J["\u0275\u0275elementStart"](3,"nz-card",23),J["\u0275\u0275elementStart"](4,"nz-spin",24),J["\u0275\u0275elementStart"](5,"nz-table",25,26),J["\u0275\u0275elementStart"](7,"thead"),J["\u0275\u0275elementStart"](8,"tr"),J["\u0275\u0275elementStart"](9,"th"),J["\u0275\u0275text"](10,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"th"),J["\u0275\u0275text"](12,"NPSN"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"th"),J["\u0275\u0275text"](14,"NAMA SEKOLAH "),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](15,"th"),J["\u0275\u0275text"](16,"Aksi"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](17,"tbody"),J["\u0275\u0275template"](18,de,10,3,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](19,"div",4),J["\u0275\u0275elementStart"](20,"nz-card",23),J["\u0275\u0275elementStart"](21,"nz-space"),J["\u0275\u0275elementStart"](22,"nz-space-item"),J["\u0275\u0275text"](23),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](24,"nz-spin",24),J["\u0275\u0275elementStart"](25,"nz-table",25,28),J["\u0275\u0275elementStart"](27,"thead"),J["\u0275\u0275elementStart"](28,"tr"),J["\u0275\u0275elementStart"](29,"th"),J["\u0275\u0275text"](30,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](31,"th"),J["\u0275\u0275text"](32,"NIK"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](33,"th"),J["\u0275\u0275text"](34,"Username"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](35,"th"),J["\u0275\u0275text"](36,"Nama"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](37,"th"),J["\u0275\u0275text"](38,"Jenis Kelamin"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](39,"th"),J["\u0275\u0275text"](40,"Tanggal Lahir"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](41,"th"),J["\u0275\u0275text"](42,"No HP"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275element"](43,"th"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](44,"tbody"),J["\u0275\u0275template"](45,me,18,7,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()),2&e){var n=J["\u0275\u0275reference"](6),a=J["\u0275\u0275reference"](26),i=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](4),J["\u0275\u0275property"]("nzSpinning",i.isLoadingTableRegisterSekolah),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",i.RegisteredSekolahData),J["\u0275\u0275advance"](13),J["\u0275\u0275property"]("ngForOf",n.data),J["\u0275\u0275advance"](5),J["\u0275\u0275textInterpolate1"](" Total Data : ",i.projectList.length," "),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzSpinning",i.isLoadingTableAkun),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",i.projectList),J["\u0275\u0275advance"](20),J["\u0275\u0275property"]("ngForOf",a.data)}}function ue(e,t){if(1&e){var n=J["\u0275\u0275getCurrentView"]();J["\u0275\u0275elementStart"](0,"tr"),J["\u0275\u0275elementStart"](1,"td"),J["\u0275\u0275text"](2),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](3,"td"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"td"),J["\u0275\u0275text"](6),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](7,"td"),J["\u0275\u0275text"](8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](9,"td"),J["\u0275\u0275text"](10),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](11,"td"),J["\u0275\u0275text"](12),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](13,"td"),J["\u0275\u0275text"](14),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](15,"td"),J["\u0275\u0275elementStart"](16,"a",30),J["\u0275\u0275listener"]("click",(function(){J["\u0275\u0275restoreView"](n);var e=t.$implicit;return J["\u0275\u0275nextContext"](2).deleteItem(e.id)})),J["\u0275\u0275element"](17,"i",31),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index;J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](i+1),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nik),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.username),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.nama_lengkap),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.jenis_kelamin),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.tanggal_lahir),J["\u0275\u0275advance"](2),J["\u0275\u0275textInterpolate"](a.no_hp)}}function pe(e,t){if(1&e&&(J["\u0275\u0275elementContainerStart"](0),J["\u0275\u0275elementStart"](1,"nz-card",23),J["\u0275\u0275elementStart"](2,"nz-space"),J["\u0275\u0275elementStart"](3,"nz-space-item"),J["\u0275\u0275text"](4),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](5,"nz-spin",24),J["\u0275\u0275elementStart"](6,"nz-table",25,28),J["\u0275\u0275elementStart"](8,"thead"),J["\u0275\u0275elementStart"](9,"tr"),J["\u0275\u0275elementStart"](10,"th"),J["\u0275\u0275text"](11,"No"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](12,"th"),J["\u0275\u0275text"](13,"NIK"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](14,"th"),J["\u0275\u0275text"](15,"Username"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](16,"th"),J["\u0275\u0275text"](17,"Nama"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](18,"th"),J["\u0275\u0275text"](19,"Jenis Kelamin"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](20,"th"),J["\u0275\u0275text"](21,"Tanggal Lahir"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](22,"th"),J["\u0275\u0275text"](23,"No HP"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275element"](24,"th"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](25,"tbody"),J["\u0275\u0275template"](26,ue,18,7,"tr",27),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementContainerEnd"]()),2&e){var n=J["\u0275\u0275reference"](7),a=J["\u0275\u0275nextContext"]();J["\u0275\u0275advance"](4),J["\u0275\u0275textInterpolate1"](" Total Data : ",a.projectList.length," "),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzSpinning",a.isLoadingTableAkun),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("nzData",a.projectList),J["\u0275\u0275advance"](20),J["\u0275\u0275property"]("ngForOf",n.data)}}var ge,he,Se,ke=[{path:"list-student",component:ie,data:{title:"List Siswa",headerDisplay:"none"}},{path:"list-teacher",component:(ge=function(){function e(t,n,a,i,r,l){_classCallCheck(this,e),this.router=t,this.fb=n,this.msg=a,this.apiService=i,this.modalService=r,this.tablesvc=l,this.view="cardView",this.newProject=!1,this.projectListRaw=[],this.projectList=[],this.name="This is XLSX TO JSON CONVERTER",this.willDownload=!1,this.loading=!1,this.isLoadingTableRegisterSekolah=!1,this.isLoadingTableAkun=!1,this.isVisible=!1,this.isOkLoading=!1,this.JenjangSekolah=[{kode:"0",nama:"SD"},{kode:"1",nama:"SMP"},{kode:"2",nama:"SMA"},{kode:"3",nama:"SMK"}],this.RegisteredSekolahData=[],this.RegisteredSekolahDataRaw=[],this.currentUserSubject=new N.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.KodeRole=this.currentUserValue.kode_role,"002"==this.currentUserValue.kode_role?this.dataForm=this.fb.group({npsn:[null,[i.s.required]],id_gtk:[null,[i.s.required]],id_organisasi:[null,[i.s.required]]}):"005"==this.currentUserValue.kode_role&&(this.dataForm=this.fb.group({npsn:[e[0].npsn,[i.s.required]],id_gtk:[null,[i.s.required]],id_organisasi:[null,[i.s.required]]}),this.getGuru())}},{key:"exportData",value:function(){var e=1,t=[];this.projectList.forEach((function(n){var a={No:e,Nama:n.nama_lengkap,Username:n.username,Password:n.tanggal_lahir};e++,t.push(a)})),re.a.exportAsExcelFile(t,"Data Guru")}},{key:"TampilGuruUser",value:function(e){this.getGuru2(e.npsn)}},{key:"getGuru",value:function(){var e=this;this.isLoadingTableAkun=!0;var t=JSON.parse(this.currentUserValue.identitas),n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"public.vgtk",key:{npsn:t[0].npsn}})};this.apiService.postFunction(n).subscribe((function(t){var n=A.a.ParseResponse(t.out_data);e.projectList=n,e.projectListRaw=n,e.isLoadingTableAkun=!1}),(function(t){e.msg.info("Koneksi tidak stabil untuk melakukan pengambilan data."),e.projectList=[],e.projectListRaw=[],e.isLoadingTableAkun=!1}))}},{key:"getGuru2",value:function(e){var t=this;this.isLoadingTableAkun=!0,JSON.parse(this.currentUserValue.identitas);var n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"public.vgtk",key:{npsn:e}})};this.apiService.postFunction(n).subscribe((function(e){var n=A.a.ParseResponse(e.out_data);t.projectList=n,t.projectListRaw=n,t.isLoadingTableAkun=!1}),(function(e){t.msg.info("Koneksi tidak stabil untuk melakukan pengambilan data."),t.projectList=[],t.projectListRaw=[],t.isLoadingTableAkun=!1}))}},{key:"FillCurentJenjang",value:function(){this.initRegistrasiSekolah()}},{key:"initRegistrasiSekolah",value:function(){var e=this;this.isLoadingTableRegisterSekolah=!0;var t={nama_fungsi:"sekolah.init_registrasi_sekolah",in_data:JSON.stringify({jenjang:this.SelectedListJenjang})};this.apiService.postFunction(t).subscribe((function(t){var n=A.a.ParseResponse(t.out_data);e.RegisteredSekolahData=n,e.RegisteredSekolahDataRaw=n,e.isLoadingTableRegisterSekolah=!1}),(function(t){e.modalService.closeAll(),e.RegisteredSekolahData=[],e.RegisteredSekolahDataRaw=[],e.isLoadingTableRegisterSekolah=!1}))}},{key:"onFileChange",value:function(e){var t=this,n=null,a=null,i=new FileReader,r=e.target.files[0];i.onload=function(e){try{n=D.read(i.result,{type:"binary"}),a=n.SheetNames.reduce((function(e,t){return e[t]=D.utils.sheet_to_json(n.Sheets[t]),e}),{});var r=JSON.parse(t.currentUserValue.identitas),l=a.Sheet1,s=[];l.forEach((function(e){if(null!=e.nik||null!=e.nama_lengkap||null!=e.tanggal_lahir){var n=t.buildUserName(e.no,e.nama_lengkap),a={nik:null!=e.nik?e.nik.replace(/[\u200B-\u200D\uFEFF]/g,""):e.nik,nama_lengkap:e.nama_lengkap.replace(/['"]+/g,""),jenis_kelamin:e.jenis_kelamin,npsn:r[0].npsn,username:n.replace(",",""),password:e.tanggal_lahir,tanggal_lahir:e.tanggal_lahir};s.push(a)}})),A.a.checkMandatoryField(["no","nik","nama_lengkap","jenis_kelamin","tanggal_lahir"],l)?t.dataArrayPush=s.sort(t.GetSortOrder("nama_lengkap")):(t.dataArrayPush=null,t.msg.error("Ada field yang kurang, periksa file excel nya"))}catch(o){console.log(o),t.dataArrayPush=null,t.msg.error("File not supported")}},i.readAsBinaryString(r)}},{key:"setPostData",value:function(e){var t=this,n=JSON.parse(this.currentUserValue.identitas),a=JSON.parse(e),i=[];a.Sheet1.forEach((function(e){if(null!=e.nik||null!=e.nama_lengkap||null!=e.tanggal_lahir){var a=t.buildUserName(e.no,e.nama_lengkap),r={nik:null!=e.nik?e.nik.replace(/[\u200B-\u200D\uFEFF]/g,""):e.nik,nama_lengkap:e.nama_lengkap.replace(/['"]+/g,""),jenis_kelamin:e.jenis_kelamin,npsn:n[0].npsn,username:a.replace(",",""),password:e.tanggal_lahir,tanggal_lahir:e.tanggal_lahir};i.push(r)}})),this.dataArrayPush=i}},{key:"buildUserName",value:function(e,t){var n=t.toLowerCase().replace(".","").trim().split(" ");return(1==n.length?[n[0]]:[n[0],n[1]]).join(".").replace(/['"]+/g,"")+e+"@mydss.id"}},{key:"search",value:function(){this.projectList=this.tablesvc.search(this.searchInput,this.projectListRaw)}},{key:"showModal",value:function(){this.isVisible=!0}},{key:"handleOk",value:function(){var e=this;if(this.isOkLoading=!0,null==this.dataArrayPush)this.isOkLoading=!1,this.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.");else{var t={nama_fungsi:"_dss_import_gtk",in_data:JSON.stringify(this.dataArrayPush)};this.apiService.postFunction(t).subscribe((function(t){e.msg.success("Berhasil Simpan!."),e.getGuru(),e.isVisible=!1,e.isOkLoading=!1}),(function(t){e.isOkLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}}},{key:"handleCancel",value:function(){this.isVisible=!1}},{key:"deleteItem",value:function(e){var t=this;console.log(e),this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var n={nama_fungsi:"dss.drop_gtk_by_idgtk",in_data:JSON.stringify({id_gtk:e})};t.apiService.postFunction(n).subscribe((function(e){t.msg.success("Berhasil Hapus!."),t.getGuru()}),(function(e){t.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"GetSortOrder",value:function(e){return function(t,n){return t[e]>n[e]?1:t[e]<n[e]?-1:0}}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}}]),e}(),ge.\u0275fac=function(e){return new(e||ge)(J["\u0275\u0275directiveInject"](F.e),J["\u0275\u0275directiveInject"](i.e),J["\u0275\u0275directiveInject"](R.b),J["\u0275\u0275directiveInject"](P.a),J["\u0275\u0275directiveInject"](L.c),J["\u0275\u0275directiveInject"](o.a))},ge.\u0275cmp=J["\u0275\u0275defineComponent"]({type:ge,selectors:[["ng-component"]],decls:38,vars:8,consts:[[1,"page-header"],[1,"row","align-items-md-center"],[1,"col-md-6"],[1,"row"],[1,"col-md-12"],[1,"border-input",3,"nzPrefix"],["type","text","nz-input","","placeholder","Cari Data",3,"ngModel","ngModelChange"],["searchPrefix",""],[4,"ngIf"],[1,"text-md-right","m-v-10"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","upload"],["nzWidth","800","nzTitle","Buat Baru",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","","nzLayout","vertical",3,"formGroup"],["target","_blank","nzType","primary","nz-button","","href","../../../assets/files/Formula_Import_Guru.xlsx"],["nzRequired","","nzFor","id_gtk"],["nzErrorTip","Harap isi file!"],["type","file",1,"border-input",3,"change"],[1,"container-fluid"],["nz-icon","","nzType","search",1,"opacity-04"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Pilih Jenjang Sekolah",1,"border-input",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[1,"border-box"],["nzTip","Loading...",3,"nzSpinning"],["nzSize","small",3,"nzData"],["RegisteredSekolahListView",""],[4,"ngFor","ngForOf"],["listViewTable",""],["nz-icon","","nzType","contacts","nzTheme","outline"],["nz-button","","nzSize","small","nzType","primary","nzDanger","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){if(1&e&&(J["\u0275\u0275elementStart"](0,"div",0),J["\u0275\u0275elementStart"](1,"div",1),J["\u0275\u0275elementStart"](2,"div",2),J["\u0275\u0275elementStart"](3,"div",3),J["\u0275\u0275elementStart"](4,"div",4),J["\u0275\u0275elementStart"](5,"nz-space"),J["\u0275\u0275elementStart"](6,"nz-space-item"),J["\u0275\u0275elementStart"](7,"nz-input-group",5),J["\u0275\u0275elementStart"](8,"input",6),J["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchInput=e}))("ngModelChange",(function(){return t.search()})),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275template"](9,le,1,0,"ng-template",null,7,J["\u0275\u0275templateRefExtractor"]),J["\u0275\u0275elementEnd"](),J["\u0275\u0275template"](11,oe,4,2,"ng-container",8),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](12,"div",2),J["\u0275\u0275elementStart"](13,"div",9),J["\u0275\u0275elementStart"](14,"nz-button-group"),J["\u0275\u0275elementStart"](15,"button",10),J["\u0275\u0275listener"]("click",(function(){return t.showModal()})),J["\u0275\u0275element"](16,"i",11),J["\u0275\u0275elementStart"](17,"span"),J["\u0275\u0275text"](18,"Import Data"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](19,"button",10),J["\u0275\u0275listener"]("click",(function(){return t.exportData()})),J["\u0275\u0275element"](20,"i",11),J["\u0275\u0275elementStart"](21,"span"),J["\u0275\u0275text"](22,"Export Data"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](23,"nz-modal",12),J["\u0275\u0275listener"]("nzVisibleChange",(function(e){return t.isVisible=e}))("nzOnCancel",(function(){return t.handleCancel()}))("nzOnOk",(function(){return t.handleOk()})),J["\u0275\u0275elementStart"](24,"form",13),J["\u0275\u0275elementStart"](25,"nz-form-item"),J["\u0275\u0275elementStart"](26,"nz-form-label"),J["\u0275\u0275text"](27,"Download Template"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](28,"a",14),J["\u0275\u0275text"](29,"Download"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](30,"nz-form-item"),J["\u0275\u0275elementStart"](31,"nz-form-label",15),J["\u0275\u0275text"](32,"Import File"),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](33,"nz-form-control",16),J["\u0275\u0275elementStart"](34,"input",17),J["\u0275\u0275listener"]("change",(function(e){return t.onFileChange(e)})),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementEnd"](),J["\u0275\u0275elementStart"](35,"div",18),J["\u0275\u0275template"](36,ce,46,7,"ng-container",8),J["\u0275\u0275template"](37,pe,27,4,"ng-container",8),J["\u0275\u0275elementEnd"]()),2&e){var n=J["\u0275\u0275reference"](10);J["\u0275\u0275advance"](7),J["\u0275\u0275property"]("nzPrefix",n),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngModel",t.searchInput),J["\u0275\u0275advance"](3),J["\u0275\u0275property"]("ngIf","002"==t.KodeRole),J["\u0275\u0275advance"](12),J["\u0275\u0275property"]("nzVisible",t.isVisible)("nzOkLoading",t.isOkLoading),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("formGroup",t.dataForm),J["\u0275\u0275advance"](12),J["\u0275\u0275property"]("ngIf","002"==t.KodeRole),J["\u0275\u0275advance"](1),J["\u0275\u0275property"]("ngIf","005"==t.KodeRole)}},directives:[U.a,U.b,C.b,C.c,C.a,i.c,i.n,i.q,K.m,d.b,G.a,d.a,q.a,B.a,L.a,i.t,i.o,_.b,i.h,H.c,_.c,H.a,_.d,_.a,w.b,K.l,w.a,m.a,M.a,S.b,S.h,S.i,S.a,S.g,S.e],styles:[""],encapsulation:2}),ge),data:{title:"List Guru",headerDisplay:"none"}}],fe=((he=function e(){_classCallCheck(this,e)}).\u0275mod=J["\u0275\u0275defineNgModule"]({type:he}),he.\u0275inj=J["\u0275\u0275defineInjector"]({factory:function(e){return new(e||he)},imports:[[F.i.forChild(ke)],F.i]}),he),ve=[d.c,m.b,c.b,u.a,p.a,g.b,h.d,S.d,k.c,f.c,E.c,b.a,z.h,x.a,y.a,_.e,L.b,w.c,j.a,C.d,O.b,T.c,I.b,R.a,v.a,U.c,M.b],Ee=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=J["\u0275\u0275defineNgModule"]({type:Se}),Se.\u0275inj=J["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Se)},providers:[l.a,s.a,o.a],imports:[[a.a,i.r,fe,r.a,V.LightboxModule].concat(ve)]}),Se)}}]);