function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{dRwI:function(e,n,t){"use strict";t.r(n),t.d(n,"UtilitasModule",(function(){return ce}));var a=t("PCNd"),i=t("3Pt+"),r=t("tyNb"),l=t("2Vo4"),s=t("tk/3"),o=t("pLZG"),d=t("fXoL"),c=t("PScX"),m=t("nm5K"),u=t("dEAy"),h=t("rMZv"),p=t("mLsC"),f=t("4xsP"),g=t("OzZK"),v=t("C2AL"),b=t("FwiY"),S=t("RwU8"),y=t("JA5x"),k=t("ofXK"),z=t("ocnv"),E=t("B+r4"),T=t("PTRe"),B=t("ZE2D");function F(e,n){if(1&e){var t=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275element"](4,"nz-avatar",31),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"td"),d["\u0275\u0275elementStart"](6,"h5",5),d["\u0275\u0275text"](7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"p"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"p"),d["\u0275\u0275element"](11,"i",32),d["\u0275\u0275text"](12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"td"),d["\u0275\u0275elementStart"](14,"nz-space"),d["\u0275\u0275elementStart"](15,"nz-space-item"),d["\u0275\u0275elementStart"](16,"a",33),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit;return d["\u0275\u0275nextContext"]().EditBerita(e)})),d["\u0275\u0275element"](17,"i",34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"nz-space-item"),d["\u0275\u0275elementStart"](19,"a",33),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit;return d["\u0275\u0275nextContext"]().DeleteBerita(e)})),d["\u0275\u0275element"](20,"i",35),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=n.$implicit,i=n.index,r=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](i+1),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSize",150)("nzSrc",a.banner_url),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](a.title),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a.description),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",r.ReadableDate(a.created_at)," ")}}var J,_,O=((J=function(){function e(n,t,a,i,r,s){_classCallCheck(this,e),this.http=n,this.fb=t,this.msg=a,this.apiService=i,this.modalService=r,this.tablesvc=s,this.view="cardView",this.newProject=!1,this.loading=!1,this.isVisible=!1,this.isOkLoading=!1,this.BeritaData=[],this.BeritaAddForm=[],this.BeritaEditForm=[],this.AuthorData=[],this.ModalAddBeritaisVisible=!1,this.BtnOkAddBeritaIsLoading=!1,this.ModalEditBeritaisVisible=!1,this.BtnOkEditBeritaIsLoading=!1,this.currentUserSubject=new l.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.npsn=e[0].npsn,this.id_user=this.currentUserValue.ID,console.log(this.currentUserValue),this.BeritaAddForm=this.fb.group({title:[null,[i.s.required]],content:[null,[i.s.required]],description:[null,[i.s.required]],gambar:[null,[i.s.required]]}),this.BeritaEditForm=this.fb.group({title:[null,[i.s.required]],content:[null,[i.s.required]],description:[null,[i.s.required]],gambar:[null,[i.s.required]]}),this.InitBerita()}},{key:"InitBerita",value:function(){var e=this,n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"view_news",key:{npsn:this.npsn}})};this.apiService.postFunction(n).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data)}catch(a){t=[]}e.BeritaData=t,e.InitAuthor()}),(function(n){e.modalService.closeAll()}))}},{key:"InitAuthor",value:function(){var e=this,n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"news.authors",key:{user_id:this.id_user}})};this.apiService.postFunction(n).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data),e.AuthorData=t}catch(a){t=[]}}),(function(n){e.modalService.closeAll()}))}},{key:"AddBerita",value:function(){this.ModalAddBeritaisVisible=!0,console.log(this.AuthorData)}},{key:"OnAddBeritaOk",value:function(){var e=this;for(var n in this.BtnOkAddBeritaIsLoading=!0,this.BeritaAddForm.controls)this.BeritaAddForm.controls[n].markAsDirty(),this.BeritaAddForm.controls[n].updateValueAndValidity();for(var t=null,a=0;a<this.AuthorData.length;a++)t=this.AuthorData[a].id;if(null!=t){var i={nama_fungsi:"_dss_insert",in_data:JSON.stringify({table:"news.contents",data:{title:this.BeritaAddForm.controls.title.value,author_id:t,content:this.BeritaAddForm.controls.content.value,banner_url:this.BeritaAddForm.controls.gambar.value,description:this.BeritaAddForm.controls.description.value}})};this.apiService.postFunction(i).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data)}catch(i){t=[]}try{var a=t[0];a.content_id=a.id,null!=a&&(e.BeritaData=[].concat(_toConsumableArray(e.BeritaData),[a]),e.msg.success("Berhasil di Simpan!"))}catch(r){e.msg.error("Ada kesalahan")}e.ModalAddBeritaisVisible=!1,e.BtnOkAddBeritaIsLoading=!1}),(function(n){e.modalService.closeAll(),e.ModalAddBeritaisVisible=!1,e.BtnOkAddBeritaIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}else this.msg.error("Author Not Found")}},{key:"OnAddBeritaCancel",value:function(){this.ModalAddBeritaisVisible=!1}},{key:"EditBerita",value:function(e){this.SelectedBerita=e,this.ModalEditBeritaisVisible=!0,this.BeritaEditForm.controls.title.setValue(e.title),this.BeritaEditForm.controls.description.setValue(e.description),this.BeritaEditForm.controls.content.setValue(e.content),this.BeritaEditForm.controls.gambar.setValue(e.banner_url)}},{key:"OnEditBeritaOk",value:function(){var e=this;for(var n in this.BtnOkEditBeritaIsLoading=!0,this.BeritaEditForm.controls)this.BeritaEditForm.controls[n].markAsDirty(),this.BeritaEditForm.controls[n].updateValueAndValidity();for(var t=null,a=0;a<this.AuthorData.length;a++)t=this.AuthorData[a].id;if(null!=t){var i={nama_fungsi:"_dss_update",in_data:JSON.stringify({table:"news.contents",data:{title:this.BeritaEditForm.controls.title.value,author_id:t,content:this.BeritaEditForm.controls.content.value,banner_url:this.BeritaEditForm.controls.gambar.value,description:this.BeritaEditForm.controls.description.value},key:{id:this.SelectedBerita.content_id}})};this.apiService.postFunction(i).subscribe((function(n){e.ModalEditBeritaisVisible=!1,e.BtnOkEditBeritaIsLoading=!1,e.SelectedBerita.title=e.BeritaEditForm.controls.title.value,e.SelectedBerita.content=e.BeritaEditForm.controls.content.value,e.SelectedBerita.description=e.BeritaEditForm.controls.description.value,e.SelectedBerita.banner_url=e.BeritaEditForm.controls.gambar.value;var t=e.BeritaData.findIndex((function(n){return n.content_id===e.SelectedBerita.content_id}));e.BeritaData[t]=e.SelectedBerita,e.msg.success("Berhasil di Simpan!")}),(function(n){e.modalService.closeAll(),e.ModalEditBeritaisVisible=!1,e.BtnOkEditBeritaIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}else this.msg.error("Author Not Found")}},{key:"OnEditBeritaCancel",value:function(){this.ModalEditBeritaisVisible=!1}},{key:"DeleteBerita",value:function(e){var n=this;this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var t={nama_fungsi:"_dss_delete",in_data:JSON.stringify({table:"news.contents",key:{id:e.content_id}})};n.apiService.postFunction(t).subscribe((function(t){n.BeritaData=n.BeritaData.filter((function(n){return n.content_id!==e.content_id})),n.msg.success("Berhasil Hapus!.")}),(function(e){n.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"onFileChanged",value:function(e){var n=this;this.uploadedFiles=e.target.files;for(var t=new FormData,a=0;a<this.uploadedFiles.length;a++)t.append("file",this.uploadedFiles[a],this.uploadedFiles[a].name);this.loading=!0;var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.BeritaAddForm.get("gambar").setValue(e.body.name),n.BeritaEditForm.get("gambar").setValue(e.body.name),n.msg.success("upload successfully.")}),(function(e){n.msg.error("upload failed.")}))}},{key:"ReadableDate",value:function(e){return new Date(e)}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}}]),e}()).\u0275fac=function(e){return new(e||J)(d["\u0275\u0275directiveInject"](s.c),d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](p.a))},J.\u0275cmp=d["\u0275\u0275defineComponent"]({type:J,selectors:[["ng-component"]],decls:80,vars:8,consts:[[1,"page-header"],[1,"row","align-items-md-center"],[1,"col-md-6","col-sm-6","col-xs-12"],["nz-button","","nzType","link"],["nz-icon","","nzType","carry-out","nzTheme","outline"],[1,"m-b-0"],[1,"text-md-right","m-v-10"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"border-box"],[3,"nzData"],["BeritaListView",""],[4,"ngFor","ngForOf"],["nzTitle","Buat Berita Baru",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nzRequired","","nzFor","title"],["nzErrorTip","Harap isi judul berita!"],["type","text","formControlName","title","nz-input","","placeholder","Silahkan masukkan judul berita",1,"border-input"],["nzRequired","","nzFor","description"],["nzErrorTip","Harap isi deskripsi singkat!"],["nz-input","","formControlName","description",1,"border-input"],["nzRequired","","nzFor","content"],["nzErrorTip","Harap isi konten berita!"],["nz-input","","formControlName","content",1,"border-input"],["nzErrorTip","Harap isi gambar"],["enctype","multipart/form-data","method","post"],["nz-input","","id","file","type","file",1,"border-input",3,"change"],["nzTitle","Edit Berita",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nzShape","square",3,"nzSize","nzSrc"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,n){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"nz-space"),d["\u0275\u0275elementStart"](4,"nz-space-item"),d["\u0275\u0275elementStart"](5,"a",3),d["\u0275\u0275element"](6,"i",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"nz-space-item"),d["\u0275\u0275elementStart"](8,"h4",5),d["\u0275\u0275text"](9,"Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",2),d["\u0275\u0275elementStart"](11,"div",6),d["\u0275\u0275elementStart"](12,"button",7),d["\u0275\u0275listener"]("click",(function(){return n.AddBerita()})),d["\u0275\u0275element"](13,"i",8),d["\u0275\u0275elementStart"](14,"span"),d["\u0275\u0275text"](15,"Berita Baru"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",9),d["\u0275\u0275elementStart"](17,"div",10),d["\u0275\u0275elementStart"](18,"div",11),d["\u0275\u0275elementStart"](19,"nz-card",12),d["\u0275\u0275elementStart"](20,"nz-table",13,14),d["\u0275\u0275elementStart"](22,"thead"),d["\u0275\u0275elementStart"](23,"tr"),d["\u0275\u0275elementStart"](24,"th"),d["\u0275\u0275text"](25,"No"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"th"),d["\u0275\u0275text"](27,"Banner "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"th"),d["\u0275\u0275text"](29,"Judul "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"th"),d["\u0275\u0275text"](31,"Aksi"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"tbody"),d["\u0275\u0275template"](33,F,21,6,"tr",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"nz-modal",16),d["\u0275\u0275listener"]("nzVisibleChange",(function(e){return n.ModalAddBeritaisVisible=e}))("nzOnCancel",(function(){return n.OnAddBeritaCancel()}))("nzOnOk",(function(){return n.OnAddBeritaOk()})),d["\u0275\u0275elementStart"](35,"form",17),d["\u0275\u0275elementStart"](36,"nz-form-item"),d["\u0275\u0275elementStart"](37,"nz-form-label",18),d["\u0275\u0275text"](38,"Judul Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"nz-form-control",19),d["\u0275\u0275element"](40,"input",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](41,"nz-form-item"),d["\u0275\u0275elementStart"](42,"nz-form-label",21),d["\u0275\u0275text"](43,"Deskripsi Singkat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](44,"nz-form-control",22),d["\u0275\u0275element"](45,"textarea",23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](46,"nz-form-item"),d["\u0275\u0275elementStart"](47,"nz-form-label",24),d["\u0275\u0275text"](48,"Isi Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](49,"nz-form-control",25),d["\u0275\u0275element"](50,"textarea",26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](51,"nz-form-item"),d["\u0275\u0275elementStart"](52,"nz-form-label"),d["\u0275\u0275text"](53,"Gambar Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](54,"nz-form-control",27),d["\u0275\u0275elementStart"](55,"form",28),d["\u0275\u0275elementStart"](56,"input",29),d["\u0275\u0275listener"]("change",(function(e){return n.onFileChanged(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](57,"nz-modal",30),d["\u0275\u0275listener"]("nzVisibleChange",(function(e){return n.ModalEditBeritaisVisible=e}))("nzOnCancel",(function(){return n.OnEditBeritaCancel()}))("nzOnOk",(function(){return n.OnEditBeritaOk()})),d["\u0275\u0275elementStart"](58,"form",17),d["\u0275\u0275elementStart"](59,"nz-form-item"),d["\u0275\u0275elementStart"](60,"nz-form-label",18),d["\u0275\u0275text"](61,"Judul Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](62,"nz-form-control",19),d["\u0275\u0275element"](63,"input",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](64,"nz-form-item"),d["\u0275\u0275elementStart"](65,"nz-form-label",21),d["\u0275\u0275text"](66,"Deskripsi Singkat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](67,"nz-form-control",22),d["\u0275\u0275element"](68,"textarea",23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](69,"nz-form-item"),d["\u0275\u0275elementStart"](70,"nz-form-label",24),d["\u0275\u0275text"](71,"Isi Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](72,"nz-form-control",25),d["\u0275\u0275element"](73,"textarea",26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](74,"nz-form-item"),d["\u0275\u0275elementStart"](75,"nz-form-label"),d["\u0275\u0275text"](76,"Gambar Berita"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](77,"nz-form-control",27),d["\u0275\u0275elementStart"](78,"form",28),d["\u0275\u0275elementStart"](79,"input",29),d["\u0275\u0275listener"]("change",(function(e){return n.onFileChanged(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var t=d["\u0275\u0275reference"](21);d["\u0275\u0275advance"](20),d["\u0275\u0275property"]("nzData",n.BeritaData),d["\u0275\u0275advance"](13),d["\u0275\u0275property"]("ngForOf",t.data),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("nzVisible",n.ModalAddBeritaisVisible)("nzOkLoading",n.BtnOkAddBeritaIsLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",n.BeritaAddForm),d["\u0275\u0275advance"](22),d["\u0275\u0275property"]("nzVisible",n.ModalEditBeritaisVisible)("nzOkLoading",n.BtnOkEditBeritaIsLoading),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",n.BeritaEditForm)}},directives:[f.a,f.b,g.a,v.a,b.a,S.a,y.a,h.b,h.h,h.i,h.a,h.g,h.e,k.l,u.a,i.t,i.o,z.b,i.h,E.c,z.c,E.a,z.d,z.a,i.c,T.a,i.n,i.g,i.p,B.a],encapsulation:2}),J),A=t("HDdC"),D=((_=function(){function e(n,t,a,i,r){var l=this;_classCallCheck(this,e),this.fb=n,this.msg=t,this.apiService=a,this.modalService=i,this.tablesvc=r,this.view="cardView",this.newProject=!1,this.loading=!1,this.isVisible=!1,this.isOkLoading=!1,this.beforeUpload=function(e){return new A.a((function(n){var t="image/jpeg"===e.type||"image/png"===e.type;if(!t)return l.msg.error("You can only upload JPG file!"),void n.complete();var a=e.size/1024/1024<2;if(!a)return l.msg.error("Image must smaller than 2MB!"),void n.complete();n.next(t&&a),n.complete()}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getBerita(),this.beritaForm=this.fb.group({title:[null,[i.s.required]],content:[null,[i.s.required]],description:[null,[i.s.required]]})}},{key:"getBerita",value:function(){var e=this;this.apiService.getNews().subscribe((function(n){e.projectListRaw=n,e.projectList=n}))}},{key:"search",value:function(){this.projectList=this.tablesvc.search(this.searchInput,this.projectListRaw)}},{key:"getBase64",value:function(e,n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result.toString())})),t.readAsDataURL(e)}},{key:"handleChange",value:function(e){var n=this;switch(e.file.status){case"uploading":this.loading=!0;break;case"done":this.getBase64(e.file.originFileObj,(function(e){n.loading=!1,n.avatarUrl=e}));break;case"error":this.msg.error("Network error"),this.loading=!1}}},{key:"showModal",value:function(){this.isVisible=!0}},{key:"handleCancel",value:function(){this.isVisible=!1}}]),e}()).\u0275fac=function(e){return new(e||_)(d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](p.a))},_.\u0275cmp=d["\u0275\u0275defineComponent"]({type:_,selectors:[["ng-component"]],decls:5,vars:0,consts:[[1,"page-header"],[1,"row","align-items-md-center"],[1,"col-md-6"],[1,"row"],[1,"col-md-5"]],template:function(e,n){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275element"](4,"div",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]())},encapsulation:2}),_),C=t("5vDB");function j(e,n){if(1&e){var t=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275elementStart"](4,"div",25),d["\u0275\u0275elementStart"](5,"div",26),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"td"),d["\u0275\u0275elementStart"](8,"div",25),d["\u0275\u0275elementStart"](9,"div",26),d["\u0275\u0275element"](10,"nz-avatar",27),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td"),d["\u0275\u0275elementStart"](12,"nz-space"),d["\u0275\u0275elementStart"](13,"nz-space-item"),d["\u0275\u0275elementStart"](14,"a",28),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit,a=n.index;return d["\u0275\u0275nextContext"]().EditBanerJson(e,a)})),d["\u0275\u0275element"](15,"i",29),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"nz-space-item"),d["\u0275\u0275elementStart"](17,"a",28),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit,a=n.index;return d["\u0275\u0275nextContext"]().DeleteBanerJson(e,a)})),d["\u0275\u0275element"](18,"i",30),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=n.$implicit,i=n.index;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](i+1),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"](" ",a.title," "),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("nzSize",128)("nzShape","square")("nzSrc",a.url)}}var w,I=((w=function(){function e(n,t,a,i,r,s,o){_classCallCheck(this,e),this.http=n,this.router=t,this.fb=a,this.msg=i,this.apiService=r,this.modalService=s,this.tablesvc=o,this.view="KetetapanView",this.npsn=null,this.AvailableKDTA=[{kdta:"20201",nama:"TA 2020/2021 Ganjil"},{kdta:"20202",nama:"TA 2020/2021 Genap"},{kdta:"20211",nama:"TA 2021/2022 Ganjil"},{kdta:"20212",nama:"TA 2021/2022 Genap"}],this.ProfilData=[],this.BannerJsonData=[],this.JenisTagihanData=[],this.JenisTagihanAddForm=[],this.JenisTagihanEditForm=[],this.ModalAddJenisTagihanisVisible=!1,this.BtnOkAddJenisTagihanIsLoading=!1,this.ModalEditJenisTagihanisVisible=!1,this.BtnOkEditJenisTagihanIsLoading=!1,this.UrlLogoFile=null,this.UrlFile=null,this.UrlFileCollection=[],this.banner_jsonTITLE="",this.currentUserSubject=new l.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"OpenView",value:function(e){this.view=e,"JenisTagihanView"==this.view&&this.InitJenisTagihan()}},{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.npsn=e[0].npsn,this.JenisTagihanAddForm=this.fb.group({nama:[null,[i.s.required]]}),this.JenisTagihanEditForm=this.fb.group({nama:[null,[i.s.required]]}),this.InitProfil({npsn:this.npsn}),this.BannerForm=this.fb.group({baner_json:this.fb.array([])})}},{key:"search",value:function(){}},{key:"InitProfil",value:function(e){var n=this,t={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"sekolah.profil",key:e})};this.apiService.postFunction(t).subscribe((function(e){var t=null;try{t=JSON.parse(e.out_data)}catch(a){t=[]}n.ProfilData=t,n.ProfilData[0]&&(n.BannerJsonData=n.ProfilData[0].banner_json,n.UrlLogoFile=n.ProfilData[0].logo)}),(function(e){n.modalService.closeAll()}))}},{key:"InitJenisTagihan",value:function(){var e=this,n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",key:{npsn:this.npsn}})};this.apiService.postFunction(n).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data),e.JenisTagihanData=t}catch(a){t=[]}}),(function(n){e.modalService.closeAll()}))}},{key:"AddJenisTagihan",value:function(){this.ModalAddJenisTagihanisVisible=!0}},{key:"OnAddJenisTagihanOk",value:function(){var e=this;for(var n in this.BtnOkAddJenisTagihanIsLoading=!0,this.JenisTagihanAddForm.controls)this.JenisTagihanAddForm.controls[n].markAsDirty(),this.JenisTagihanAddForm.controls[n].updateValueAndValidity();var t={nama_fungsi:"_dss_insert",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",data:{nama:this.JenisTagihanAddForm.controls.nama.value,npsn:this.npsn}})};this.apiService.postFunction(t).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data)}catch(i){t=[]}try{var a=t[0];null!=a&&(e.JenisTagihanData=[].concat(_toConsumableArray(e.JenisTagihanData),[a]),e.msg.success("Berhasil di Simpan!"))}catch(r){e.msg.error("Ada kesalahan")}e.ModalAddJenisTagihanisVisible=!1,e.BtnOkAddJenisTagihanIsLoading=!1}),(function(n){e.modalService.closeAll(),e.ModalAddJenisTagihanisVisible=!1,e.BtnOkAddJenisTagihanIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"OnAddJenisTagihanCancel",value:function(){this.ModalAddJenisTagihanisVisible=!1}},{key:"EditJenisTagihan",value:function(e){this.SelectedJenisTagihan=e,this.ModalEditJenisTagihanisVisible=!0,this.JenisTagihanEditForm.controls.nama.setValue(e.nama)}},{key:"OnEditJenisTagihanOk",value:function(){var e=this;for(var n in this.BtnOkEditJenisTagihanIsLoading=!0,this.JenisTagihanEditForm.controls)this.JenisTagihanEditForm.controls[n].markAsDirty(),this.JenisTagihanEditForm.controls[n].updateValueAndValidity();var t={nama_fungsi:"_dss_update",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",data:{nama:this.JenisTagihanEditForm.controls.nama.value,npsn:this.npsn},key:{id:this.SelectedJenisTagihan.id}})};this.apiService.postFunction(t).subscribe((function(n){e.ModalEditJenisTagihanisVisible=!1,e.BtnOkEditJenisTagihanIsLoading=!1,e.SelectedJenisTagihan.nama=e.JenisTagihanEditForm.controls.nama.value,e.SelectedJenisTagihan.npsn=e.npsn;var t=e.JenisTagihanData.findIndex((function(n){return n.id===e.SelectedJenisTagihan.id}));e.JenisTagihanData[t]=e.SelectedJenisTagihan,e.msg.success("Berhasil di Simpan!")}),(function(n){e.modalService.closeAll(),e.ModalEditJenisTagihanisVisible=!1,e.BtnOkEditJenisTagihanIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"OnEditJenisTagihanCancel",value:function(){this.ModalEditJenisTagihanisVisible=!1}},{key:"DeleteJenisTagihan",value:function(e){var n=this;this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var t={nama_fungsi:"_dss_delete",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",key:{id:e.id}})};n.apiService.postFunction(t).subscribe((function(t){n.JenisTagihanData=n.JenisTagihanData.filter((function(n){return n.id!==e.id})),n.msg.success("Berhasil Hapus!.")}),(function(e){n.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"onFileChangedLogo",value:function(e){var n=this;this.UploadedLogoFiles=e.target.files;for(var t=new FormData,a=0;a<this.UploadedLogoFiles.length;a++)t.append("file",this.UploadedLogoFiles[a],this.UploadedLogoFiles[a].name);var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.msg.success("Upload Berhasil"),n.UrlLogoFile=e.body.name,n.SaveBannerJson({table:"sekolah.profil",data:{logo:n.UrlLogoFile},key:{npsn:n.npsn}})}),(function(e){n.msg.error("upload failed.")}))}},{key:"onFileChanged",value:function(e){var n=this;this.UploadedFiles=e.target.files;for(var t=new FormData,a=0;a<this.UploadedFiles.length;a++)t.append("file",this.UploadedFiles[a],this.UploadedFiles[a].name);var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.msg.success("Upload Berhasil"),n.UrlFile=e.body.name}),(function(e){n.msg.error("upload failed.")}))}},{key:"onFileChangedX",value:function(e,n){var t=this;this.TempUploadedFiles=e.target.files;for(var a=new FormData,i=0;i<this.TempUploadedFiles.length;i++)a.append("file",this.TempUploadedFiles[i],this.TempUploadedFiles[i].name);var r=new s.i("POST","https://abc.mydss.id/upload/file",a,{});this.http.request(r).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){t.msg.success("Upload Berhasil"),t.UrlFileCollection[n]=e.body.name,console.log(t.UrlFileCollection)}),(function(e){t.msg.error("upload failed.")}))}},{key:"AddBannerx",value:function(){this.UrlFileCollection.push(""),this.BannerForm.controls.baner_json.push(this.fb.group({url:[{value:"SS",disabled:!0},[i.s.required]],active:[{value:"",disabled:!0},[i.s.required]],title:[null,[i.s.required]],file:[null,[i.s.required]]})),console.log(this.UrlFileCollection)}},{key:"RemoveBanner",value:function(e){this.UrlFileCollection.splice(e,1),this.BannerForm.get("baner_json").removeAt(e),console.log(this.UrlFileCollection)}},{key:"EditBanerJson",value:function(e,n){console.log(e),this.banner_jsonTITLE=e.title,this.UrlFile=e.url,this.SelectedBannerJsonINDEX=n}},{key:"DeleteBanerJson",value:function(e,n){for(var t=[],a=0;a<this.BannerJsonData.length;a++)a!=n&&(t=[].concat(_toConsumableArray(t),[this.BannerJsonData[a]]));this.BannerJsonData=t,this.SaveBannerJson({table:"sekolah.profil",data:{banner_json:this.BannerJsonData},key:{npsn:this.npsn}})}},{key:"RefreshLocalBannerJson",value:function(){for(var e=[],n=0;n<this.BannerJsonData.length;n++)e=[].concat(_toConsumableArray(e),[this.BannerJsonData[n]]);this.BannerJsonData=e}},{key:"AddBannerJson",value:function(){this.BannerJsonData[this.SelectedBannerJsonINDEX]?(this.SelectedBannerJson={title:this.banner_jsonTITLE,url:this.UrlFile,active:!0},this.BannerJsonData[this.SelectedBannerJsonINDEX]=this.SelectedBannerJson):this.BannerJsonData=[].concat(_toConsumableArray(this.BannerJsonData),[{title:this.banner_jsonTITLE,url:this.UrlFile,active:!0}]),this.SaveBannerJson({table:"sekolah.profil",data:{banner_json:this.BannerJsonData},key:{npsn:this.npsn}})}},{key:"SaveBannerJson",value:function(e){var n=this,t={nama_fungsi:"_dss_update",in_data:JSON.stringify(e)};this.apiService.postFunction(t).subscribe((function(e){n.msg.success("Berhasil di Simpan!"),n.RefreshLocalBannerJson()}),(function(e){n.modalService.closeAll(),n.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}},{key:"BanerJson",get:function(){return this.BannerForm.get("baner_json")}}]),e}()).\u0275fac=function(e){return new(e||w)(d["\u0275\u0275directiveInject"](s.c),d["\u0275\u0275directiveInject"](r.e),d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](p.a))},w.\u0275cmp=d["\u0275\u0275defineComponent"]({type:w,selectors:[["ng-component"]],decls:51,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"border-box"],["nzText","Logo Sekolah"],["type","file",2,"display","none",3,"change"],["hiddenfileinput",""],["nzIcon","user",1,"border-input",3,"nzSize","nzShape","nzSrc"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","upload"],["nzText","Banner Sekolah"],["nz-form",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","placeholder","Judul Header",1,"border-input",3,"ngModel","ngModelChange"],["nz-input","","placeholder","File","type","file",1,"border-input",3,"change"],[1,"border-input",2,"width","200px","height","100px",3,"src"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","link","type","button","nzType","primary",3,"click"],["nz-icon","","nzType","save"],["nzText","Data Table","nzOrientation","left"],[3,"nzData"],["BanerJsonListView",""],[4,"ngFor","ngForOf"],[1,"media","align-items-center"],[1,"m-l-10"],["nzIcon","user",3,"nzSize","nzShape","nzSrc"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,n){if(1&e){var t=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"nz-card",3),d["\u0275\u0275element"](4,"nz-divider",4),d["\u0275\u0275elementStart"](5,"input",5,6),d["\u0275\u0275listener"]("change",(function(e){return n.onFileChangedLogo(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](7,"nz-avatar",7),d["\u0275\u0275element"](8,"br"),d["\u0275\u0275element"](9,"br"),d["\u0275\u0275elementStart"](10,"button",8),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](t),d["\u0275\u0275reference"](6).click()})),d["\u0275\u0275element"](11,"i",9),d["\u0275\u0275text"](12," Upload Logo"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](13,"br"),d["\u0275\u0275element"](14,"nz-divider",10),d["\u0275\u0275elementStart"](15,"div",11),d["\u0275\u0275elementStart"](16,"nz-form-item"),d["\u0275\u0275elementStart"](17,"nz-form-label",12),d["\u0275\u0275text"](18,"Judul Header"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"nz-form-control",13),d["\u0275\u0275elementStart"](20,"input",14),d["\u0275\u0275listener"]("ngModelChange",(function(e){return n.banner_jsonTITLE=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"nz-form-item"),d["\u0275\u0275elementStart"](22,"nz-form-label",12),d["\u0275\u0275text"](23,"File"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"nz-form-control",13),d["\u0275\u0275elementStart"](25,"input",15),d["\u0275\u0275listener"]("change",(function(e){return n.onFileChanged(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"nz-form-item"),d["\u0275\u0275elementStart"](27,"nz-form-label",12),d["\u0275\u0275text"](28,"Gambar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"nz-form-control",13),d["\u0275\u0275element"](30,"img",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"nz-form-item",17),d["\u0275\u0275elementStart"](32,"nz-form-control",18),d["\u0275\u0275elementStart"](33,"a",19),d["\u0275\u0275listener"]("click",(function(){return n.AddBannerJson()})),d["\u0275\u0275element"](34,"i",20),d["\u0275\u0275text"](35," Simpan"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](36,"nz-divider",21),d["\u0275\u0275elementStart"](37,"nz-table",22,23),d["\u0275\u0275elementStart"](39,"thead"),d["\u0275\u0275elementStart"](40,"tr"),d["\u0275\u0275elementStart"](41,"th"),d["\u0275\u0275text"](42,"No"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"th"),d["\u0275\u0275text"](44,"TITLE "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](45,"th"),d["\u0275\u0275text"](46,"URL "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](47,"th"),d["\u0275\u0275text"](48,"Aksi"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](49,"tbody"),d["\u0275\u0275template"](50,j,19,5,"tr",24),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275reference"](38);d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("nzSize",128)("nzShape","square")("nzSrc",n.UrlLogoFile),d["\u0275\u0275advance"](10),d["\u0275\u0275property"]("nzSm",6)("nzXs",24),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",14)("nzXs",24),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngModel",n.banner_jsonTITLE),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",6)("nzXs",24),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",14)("nzXs",24),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("nzSm",6)("nzXs",24),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",14)("nzXs",24),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("src",n.UrlFile,d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSpan",14)("nzOffset",6),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("nzData",n.BannerJsonData),d["\u0275\u0275advance"](13),d["\u0275\u0275property"]("ngForOf",a.data)}},directives:[y.a,C.a,B.a,g.a,S.a,v.a,b.a,z.b,E.c,z.c,E.a,z.d,z.a,T.a,i.c,i.n,i.q,h.b,h.h,h.i,h.a,h.g,h.e,k.l,f.a,f.b],styles:[""],encapsulation:2}),w),U=t("xB20");function x(e,n){if(1&e){var t=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275elementStart"](4,"div",17),d["\u0275\u0275elementStart"](5,"div",18),d["\u0275\u0275element"](6,"nz-avatar",19),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"td"),d["\u0275\u0275elementStart"](8,"nz-space"),d["\u0275\u0275elementStart"](9,"nz-space-item"),d["\u0275\u0275elementStart"](10,"a",20),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit,a=n.index;return d["\u0275\u0275nextContext"]().EditGallery(e,a)})),d["\u0275\u0275element"](11,"i",21),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"nz-space-item"),d["\u0275\u0275elementStart"](13,"a",20),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](t);var e=n.$implicit,a=n.index;return d["\u0275\u0275nextContext"]().DeleteGallery(e,a)})),d["\u0275\u0275element"](14,"i",22),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=n.$implicit,i=n.index;d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](i+1),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("nzSize",128)("nzShape","square")("nzSrc",a.img)}}var V,L,N,G,P=[{path:"berita",component:O,data:{title:"Berita",headerDisplay:"none"}},{path:"berita-detail/:id",component:D,data:{title:"Berita",headerDisplay:"none"}},{path:"profil",component:I,data:{title:"Profil",headerDisplay:"none"}},{path:"profil-user",component:(L=function(){function e(n,t,a,i,r,s,o){_classCallCheck(this,e),this.http=n,this.router=t,this.fb=a,this.msg=i,this.apiService=r,this.modalService=s,this.tablesvc=o,this.view="KetetapanView",this.npsn=null,this.AvailableKDTA=[{kdta:"20201",nama:"TA 2020/2021 Ganjil"},{kdta:"20202",nama:"TA 2020/2021 Genap"},{kdta:"20211",nama:"TA 2021/2022 Ganjil"},{kdta:"20212",nama:"TA 2021/2022 Genap"}],this.ProfilData=[],this.BannerJsonData=[],this.JenisTagihanData=[],this.JenisTagihanAddForm=[],this.JenisTagihanEditForm=[],this.ModalAddJenisTagihanisVisible=!1,this.BtnOkAddJenisTagihanIsLoading=!1,this.ModalEditJenisTagihanisVisible=!1,this.BtnOkEditJenisTagihanIsLoading=!1,this.UrlLogoFile=null,this.UrlFile=null,this.UrlFileCollection=[],this.banner_jsonTITLE="",this.currentUserSubject=new l.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"OpenView",value:function(e){this.view=e,"JenisTagihanView"==this.view&&this.InitJenisTagihan()}},{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.npsn=e[0].npsn,this.JenisTagihanAddForm=this.fb.group({nama:[null,[i.s.required]]}),this.JenisTagihanEditForm=this.fb.group({nama:[null,[i.s.required]]}),this.InitProfil({npsn:this.npsn}),this.BannerForm=this.fb.group({baner_json:this.fb.array([])}),this.changePWForm=this.fb.group({oldPassword:[null,[i.s.required]],newPassword:[null,[i.s.required]],confirmPassword:[null,[i.s.required]]})}},{key:"search",value:function(){}},{key:"InitProfil",value:function(e){var n=this,t={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"sekolah.profil",key:e})};this.apiService.postFunction(t).subscribe((function(e){var t=null;try{t=JSON.parse(e.out_data)}catch(a){t=[]}n.ProfilData=t,n.ProfilData[0]&&(n.BannerJsonData=n.ProfilData[0].banner_json,n.UrlLogoFile=n.ProfilData[0].logo)}),(function(e){n.modalService.closeAll()}))}},{key:"InitJenisTagihan",value:function(){var e=this,n={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",key:{npsn:this.npsn}})};this.apiService.postFunction(n).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data),e.JenisTagihanData=t}catch(a){t=[]}}),(function(n){e.modalService.closeAll()}))}},{key:"AddJenisTagihan",value:function(){this.ModalAddJenisTagihanisVisible=!0}},{key:"OnAddJenisTagihanOk",value:function(){var e=this;for(var n in this.BtnOkAddJenisTagihanIsLoading=!0,this.JenisTagihanAddForm.controls)this.JenisTagihanAddForm.controls[n].markAsDirty(),this.JenisTagihanAddForm.controls[n].updateValueAndValidity();var t={nama_fungsi:"_dss_insert",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",data:{nama:this.JenisTagihanAddForm.controls.nama.value,npsn:this.npsn}})};this.apiService.postFunction(t).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data)}catch(i){t=[]}try{var a=t[0];null!=a&&(e.JenisTagihanData=[].concat(_toConsumableArray(e.JenisTagihanData),[a]),e.msg.success("Berhasil di Simpan!"))}catch(r){e.msg.error("Ada kesalahan")}e.ModalAddJenisTagihanisVisible=!1,e.BtnOkAddJenisTagihanIsLoading=!1}),(function(n){e.modalService.closeAll(),e.ModalAddJenisTagihanisVisible=!1,e.BtnOkAddJenisTagihanIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"OnAddJenisTagihanCancel",value:function(){this.ModalAddJenisTagihanisVisible=!1}},{key:"EditJenisTagihan",value:function(e){this.SelectedJenisTagihan=e,this.ModalEditJenisTagihanisVisible=!0,this.JenisTagihanEditForm.controls.nama.setValue(e.nama)}},{key:"OnEditJenisTagihanOk",value:function(){var e=this;for(var n in this.BtnOkEditJenisTagihanIsLoading=!0,this.JenisTagihanEditForm.controls)this.JenisTagihanEditForm.controls[n].markAsDirty(),this.JenisTagihanEditForm.controls[n].updateValueAndValidity();var t={nama_fungsi:"_dss_update",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",data:{nama:this.JenisTagihanEditForm.controls.nama.value,npsn:this.npsn},key:{id:this.SelectedJenisTagihan.id}})};this.apiService.postFunction(t).subscribe((function(n){e.ModalEditJenisTagihanisVisible=!1,e.BtnOkEditJenisTagihanIsLoading=!1,e.SelectedJenisTagihan.nama=e.JenisTagihanEditForm.controls.nama.value,e.SelectedJenisTagihan.npsn=e.npsn;var t=e.JenisTagihanData.findIndex((function(n){return n.id===e.SelectedJenisTagihan.id}));e.JenisTagihanData[t]=e.SelectedJenisTagihan,e.msg.success("Berhasil di Simpan!")}),(function(n){e.modalService.closeAll(),e.ModalEditJenisTagihanisVisible=!1,e.BtnOkEditJenisTagihanIsLoading=!1,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"OnEditJenisTagihanCancel",value:function(){this.ModalEditJenisTagihanisVisible=!1}},{key:"DeleteJenisTagihan",value:function(e){var n=this;this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var t={nama_fungsi:"_dss_delete",in_data:JSON.stringify({table:"keuangan.jenis_tagihan",key:{id:e.id}})};n.apiService.postFunction(t).subscribe((function(t){n.JenisTagihanData=n.JenisTagihanData.filter((function(n){return n.id!==e.id})),n.msg.success("Berhasil Hapus!.")}),(function(e){n.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"onFileChangedLogo",value:function(e){var n=this;this.UploadedLogoFiles=e.target.files;for(var t=new FormData,a=0;a<this.UploadedLogoFiles.length;a++)t.append("file",this.UploadedLogoFiles[a],this.UploadedLogoFiles[a].name);var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.msg.success("Upload Berhasil"),n.UrlLogoFile=e.body.name,n.SaveBannerJson({table:"sekolah.profil",data:{logo:n.UrlLogoFile},key:{npsn:n.npsn}})}),(function(e){n.msg.error("upload failed.")}))}},{key:"onFileChanged",value:function(e){var n=this;this.UploadedFiles=e.target.files;for(var t=new FormData,a=0;a<this.UploadedFiles.length;a++)t.append("file",this.UploadedFiles[a],this.UploadedFiles[a].name);var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.msg.success("Upload Berhasil"),n.UrlFile=e.body.name}),(function(e){n.msg.error("upload failed.")}))}},{key:"onFileChangedX",value:function(e,n){var t=this;this.TempUploadedFiles=e.target.files;for(var a=new FormData,i=0;i<this.TempUploadedFiles.length;i++)a.append("file",this.TempUploadedFiles[i],this.TempUploadedFiles[i].name);var r=new s.i("POST","https://abc.mydss.id/upload/file",a,{});this.http.request(r).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){t.msg.success("Upload Berhasil"),t.UrlFileCollection[n]=e.body.name,console.log(t.UrlFileCollection)}),(function(e){t.msg.error("upload failed.")}))}},{key:"AddBannerx",value:function(){this.UrlFileCollection.push(""),this.BannerForm.controls.baner_json.push(this.fb.group({url:[{value:"SS",disabled:!0},[i.s.required]],active:[{value:"",disabled:!0},[i.s.required]],title:[null,[i.s.required]],file:[null,[i.s.required]]})),console.log(this.UrlFileCollection)}},{key:"RemoveBanner",value:function(e){this.UrlFileCollection.splice(e,1),this.BannerForm.get("baner_json").removeAt(e),console.log(this.UrlFileCollection)}},{key:"EditBanerJson",value:function(e,n){console.log(e),this.banner_jsonTITLE=e.title,this.UrlFile=e.url,this.SelectedBannerJsonINDEX=n}},{key:"DeleteBanerJson",value:function(e,n){for(var t=[],a=0;a<this.BannerJsonData.length;a++)a!=n&&(t=[].concat(_toConsumableArray(t),[this.BannerJsonData[a]]));this.BannerJsonData=t,this.SaveBannerJson({table:"sekolah.profil",data:{banner_json:this.BannerJsonData},key:{npsn:this.npsn}})}},{key:"RefreshLocalBannerJson",value:function(){for(var e=[],n=0;n<this.BannerJsonData.length;n++)e=[].concat(_toConsumableArray(e),[this.BannerJsonData[n]]);this.BannerJsonData=e}},{key:"AddBannerJson",value:function(){this.BannerJsonData[this.SelectedBannerJsonINDEX]?(this.SelectedBannerJson={title:this.banner_jsonTITLE,url:this.UrlFile,active:!0},this.BannerJsonData[this.SelectedBannerJsonINDEX]=this.SelectedBannerJson):this.BannerJsonData=[].concat(_toConsumableArray(this.BannerJsonData),[{title:this.banner_jsonTITLE,url:this.UrlFile,active:!0}]),this.SaveBannerJson({table:"sekolah.profil",data:{banner_json:this.BannerJsonData},key:{npsn:this.npsn}})}},{key:"SaveBannerJson",value:function(e){var n=this,t={nama_fungsi:"_dss_update",in_data:JSON.stringify(e)};this.apiService.postFunction(t).subscribe((function(e){n.msg.success("Berhasil di Simpan!"),n.RefreshLocalBannerJson()}),(function(e){n.modalService.closeAll(),n.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}},{key:"submitForm",value:function(){}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}},{key:"BanerJson",get:function(){return this.BannerForm.get("baner_json")}}]),e}(),L.\u0275fac=function(e){return new(e||L)(d["\u0275\u0275directiveInject"](s.c),d["\u0275\u0275directiveInject"](r.e),d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](p.a))},L.\u0275cmp=d["\u0275\u0275defineComponent"]({type:L,selectors:[["ng-component"]],decls:43,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["nzTitle","Change Password"],["nz-form","",3,"formGroup","ngSubmit"],[1,"col-md-3"],["nzFor","oldPassword"],["nzErrorTip","Please input your old password!"],["formControlName","oldPassword","nz-input","","type","password","placeholder","Old Password"],["nzFor","newPassword"],["nzErrorTip","Please input your New Password!"],["formControlName","newPassword","nz-input","","type","password","placeholder","New Password"],["nzFor","confirmPassword"],["nzErrorTip","Please confirm your New Password!"],["formControlName","confirmPassword","nz-input","","type","password","placeholder","Confirm Password"],["nz-button","","nzType","primary",3,"disabled"]],template:function(e,n){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"h5"),d["\u0275\u0275text"](4,"Akun"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",2),d["\u0275\u0275elementStart"](6,"nz-card"),d["\u0275\u0275element"](7,"nz-descriptions"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"nz-card",3),d["\u0275\u0275elementStart"](9,"form",4),d["\u0275\u0275listener"]("ngSubmit",(function(){return n.submitForm()})),d["\u0275\u0275elementStart"](10,"div",1),d["\u0275\u0275elementStart"](11,"div",5),d["\u0275\u0275elementStart"](12,"nz-form-item"),d["\u0275\u0275elementStart"](13,"nz-form-label",6),d["\u0275\u0275text"](14,"Old Password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"nz-form-control",7),d["\u0275\u0275element"](16,"input",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"div",5),d["\u0275\u0275elementStart"](18,"nz-form-item"),d["\u0275\u0275elementStart"](19,"nz-form-label",9),d["\u0275\u0275text"](20,"New Password"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"nz-form-control",10),d["\u0275\u0275element"](22,"input",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"div",5),d["\u0275\u0275elementStart"](24,"nz-form-item"),d["\u0275\u0275elementStart"](25,"nz-form-label",12),d["\u0275\u0275text"](26,"Confirm"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"nz-form-control",13),d["\u0275\u0275element"](28,"input",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",5),d["\u0275\u0275elementStart"](30,"nz-form-item"),d["\u0275\u0275elementStart"](31,"nz-form-control"),d["\u0275\u0275elementStart"](32,"button",15),d["\u0275\u0275text"](33,"Change"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"div",1),d["\u0275\u0275elementStart"](35,"div",2),d["\u0275\u0275elementStart"](36,"nz-card"),d["\u0275\u0275elementStart"](37,"h1"),d["\u0275\u0275text"](38,"Username"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"h1"),d["\u0275\u0275text"](40,"Role"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](41,"h1"),d["\u0275\u0275text"](42,"Jabatan"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("formGroup",n.changePWForm),d["\u0275\u0275advance"](23),d["\u0275\u0275property"]("disabled",!n.changePWForm.valid))},directives:[y.a,U.a,i.t,i.o,z.b,i.h,E.c,z.c,E.a,z.d,z.a,i.c,T.a,i.n,i.g,g.a,S.a,v.a],styles:[""],encapsulation:2}),L),data:{title:"Profil User",headerDisplay:"none"}},{path:"gallery",component:(V=function(){function e(n,t,a,i,r,s,o){_classCallCheck(this,e),this.http=n,this.router=t,this.fb=a,this.msg=i,this.apiService=r,this.modalService=s,this.tablesvc=o,this.view="KetetapanView",this.npsn=null,this.AvailableKDTA=[{kdta:"20201",nama:"TA 2020/2021 Ganjil"},{kdta:"20202",nama:"TA 2020/2021 Genap"},{kdta:"20211",nama:"TA 2021/2022 Ganjil"},{kdta:"20212",nama:"TA 2021/2022 Genap"}],this.GalleryData=[],this.UrlFile=null,this.UrlFileCollection=[],this.currentUserSubject=new l.a(JSON.parse(localStorage.getItem("AccessToken"))),this.currentUser=this.currentUserSubject.asObservable()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=JSON.parse(this.currentUserValue.identitas);this.npsn=e[0].npsn,this.InitGallery({npsn:this.npsn})}},{key:"search",value:function(){}},{key:"InitGallery",value:function(e){var n=this,t={nama_fungsi:"_dss_list",in_data:JSON.stringify({table:"sekolah.gallery",key:e})};this.apiService.postFunction(t).subscribe((function(e){var t=null;try{t=JSON.parse(e.out_data)}catch(a){t=[]}n.GalleryData=t}),(function(e){n.modalService.closeAll()}))}},{key:"onFileChanged",value:function(e){var n=this;this.UrlFile=null,this.UploadedFiles=e.target.files;for(var t=new FormData,a=0;a<this.UploadedFiles.length;a++)t.append("file",this.UploadedFiles[a],this.UploadedFiles[a].name);var i=new s.i("POST","https://abc.mydss.id/upload/file",t,{});this.http.request(i).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){n.msg.success("Upload Berhasil"),n.UrlFile=e.body.name}),(function(e){n.msg.error("upload failed.")}))}},{key:"onFileChangedX",value:function(e,n){var t=this;this.TempUploadedFiles=e.target.files;for(var a=new FormData,i=0;i<this.TempUploadedFiles.length;i++)a.append("file",this.TempUploadedFiles[i],this.TempUploadedFiles[i].name);var r=new s.i("POST","https://abc.mydss.id/upload/file",a,{});this.http.request(r).pipe(Object(o.a)((function(e){return e instanceof s.j}))).subscribe((function(e){t.msg.success("Upload Berhasil"),t.UrlFileCollection[n]=e.body.name,console.log(t.UrlFileCollection)}),(function(e){t.msg.error("upload failed.")}))}},{key:"EditGallery",value:function(e,n){this.UrlFile=e.img,this.SelectedGalleryINDEX=n,this.SelectedGallery=e}},{key:"DeleteGallery",value:function(e,n){var t=this;this.modalService.confirm({nzTitle:"Hapus data ini?",nzContent:'<b style="color: red;">Data tidak bisa dikembalikan</b>',nzOkText:"Yes",nzOkType:"danger",nzOnOk:function(){var n={nama_fungsi:"_dss_delete",in_data:JSON.stringify({table:"sekolah.gallery",key:{id:e.id}})};t.apiService.postFunction(n).subscribe((function(n){t.GalleryData=t.GalleryData.filter((function(n){return n.id!==e.id})),t.msg.success("Berhasil Hapus!.")}),(function(e){t.msg.error("Gagal Hapus!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))},nzCancelText:"No",nzOnCancel:function(){return console.log("Cancel")}})}},{key:"AddGallery",value:function(){var e=this;if(null!=this.UrlFile)if(this.GalleryData[this.SelectedGalleryINDEX]){var n={nama_fungsi:"_dss_update",in_data:JSON.stringify({table:"sekolah.gallery",data:{img:this.UrlFile,npsn:this.npsn},key:{id:this.SelectedGallery.id}})};this.apiService.postFunction(n).subscribe((function(n){e.msg.success("Berhasil di Simpan!"),e.SelectedGallery.img=e.UrlFile;var t=e.GalleryData.findIndex((function(n){return n.id===e.SelectedGallery.id}));e.GalleryData[t]=e.SelectedGallery,e.UrlFile=null}),(function(n){e.modalService.closeAll(),e.UrlFile=null,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}else{var t={nama_fungsi:"_dss_insert",in_data:JSON.stringify({table:"sekolah.gallery",data:{img:this.UrlFile,npsn:this.npsn}})};this.apiService.postFunction(t).subscribe((function(n){var t=null;try{t=JSON.parse(n.out_data)}catch(i){t=[]}try{var a=t[0];null!=a&&(e.GalleryData=[].concat(_toConsumableArray(e.GalleryData),[a]),e.msg.success("Berhasil di Simpan!"))}catch(r){e.msg.error("Ada kesalahan")}e.UrlFile=null}),(function(n){e.modalService.closeAll(),e.UrlFile=null,e.msg.error("Gagal Simpan!, silahkan periksa kembali data anda, dan pastikan jaringan stabil.")}))}else this.msg.error("Gambar belum siap")}},{key:"currentUserValue",get:function(){return this.currentUserSubject.value}}]),e}(),V.\u0275fac=function(e){return new(e||V)(d["\u0275\u0275directiveInject"](s.c),d["\u0275\u0275directiveInject"](r.e),d["\u0275\u0275directiveInject"](i.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.c),d["\u0275\u0275directiveInject"](p.a))},V.\u0275cmp=d["\u0275\u0275defineComponent"]({type:V,selectors:[["ng-component"]],decls:34,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["nzText","Galeri"],["nz-form",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nz-input","","placeholder","File","type","file",1,"border-input",3,"change"],[1,"border-input",2,"width","200px","height","100px",3,"src"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","link","type","button","nzType","primary",3,"click"],["nz-icon","","nzType","save"],["nzText","Data Table","nzOrientation","left"],[3,"nzData"],["GalleryListView",""],[4,"ngFor","ngForOf"],[1,"media","align-items-center"],[1,"m-l-10"],["nzIcon","user",3,"nzSize","nzShape","nzSrc"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,n){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"nz-card"),d["\u0275\u0275element"](4,"nz-divider",3),d["\u0275\u0275elementStart"](5,"div",4),d["\u0275\u0275elementStart"](6,"nz-form-item"),d["\u0275\u0275elementStart"](7,"nz-form-label",5),d["\u0275\u0275text"](8,"File"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"nz-form-control",6),d["\u0275\u0275elementStart"](10,"input",7),d["\u0275\u0275listener"]("change",(function(e){return n.onFileChanged(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"nz-form-item"),d["\u0275\u0275elementStart"](12,"nz-form-label",5),d["\u0275\u0275text"](13,"Gambar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"nz-form-control",6),d["\u0275\u0275element"](15,"img",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"nz-form-item",9),d["\u0275\u0275elementStart"](17,"nz-form-control",10),d["\u0275\u0275elementStart"](18,"a",11),d["\u0275\u0275listener"]("click",(function(){return n.AddGallery()})),d["\u0275\u0275element"](19,"i",12),d["\u0275\u0275text"](20," Simpan"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](21,"nz-divider",13),d["\u0275\u0275elementStart"](22,"nz-table",14,15),d["\u0275\u0275elementStart"](24,"thead"),d["\u0275\u0275elementStart"](25,"tr"),d["\u0275\u0275elementStart"](26,"th"),d["\u0275\u0275text"](27,"No"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](28,"th"),d["\u0275\u0275text"](29,"IMG "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"th"),d["\u0275\u0275text"](31,"Aksi"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"tbody"),d["\u0275\u0275template"](33,x,15,4,"tr",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var t=d["\u0275\u0275reference"](23);d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("nzSm",6)("nzXs",24),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",14)("nzXs",24),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("nzSm",6)("nzXs",24),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSm",14)("nzXs",24),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("src",n.UrlFile,d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("nzSpan",14)("nzOffset",6),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("nzData",n.GalleryData),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngForOf",t.data)}},directives:[y.a,C.a,z.b,E.c,z.c,E.a,z.d,z.a,T.a,g.a,v.a,b.a,h.b,h.h,h.i,h.a,h.g,h.e,k.l,B.a,f.a,f.b],styles:[""],encapsulation:2}),V),data:{title:"Gallery",headerDisplay:"none"}}],q=((N=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[r.i.forChild(P)],r.i]}),N),M=t("CzEO"),X=t("PQ0Y"),R=t("lp9o"),H=t("L1u3"),K=t("SKKP"),$=t("W9fG"),Y=t("bE2y"),W=t("Nqz0"),Z=t("ncdi"),Q=t("oyxB"),ee=t("ZyQt"),ne=t("Ff2k"),te=t("Py9c"),ae=t("nJia"),ie=t("zAKX"),re=t("D9mS"),le=t("3/1E"),se=t("0lU3"),oe=t("TaO5"),de=[g.c,y.b,B.b,H.a,K.a,$.b,Y.d,h.d,W.c,Z.c,Q.c,ee.a,ne.h,te.a,ae.a,z.e,u.b,ie.c,re.a,T.d,le.b,se.c,oe.b,c.a,U.c,C.b,f.c],ce=((G=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:G}),G.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||G)},providers:[X.a,R.a,p.a],imports:[[a.a,i.r,q,M.a].concat(de)]}),G)}}]);